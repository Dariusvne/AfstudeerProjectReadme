# 1. Professional Skills

Tijdens dit afstudeerproject heb ik mijn professionele vaardigheden toegepast en verder ontwikkeld, zoals verwacht vanuit de kwalificaties van het programma. Deze sectie beschrijft hoe ik heb voldaan aan de gestelde criteria voor "Professional Skills" en "Manage & Control". Per vereiste licht ik mijn aanpak toe en verwijs ik naar concrete bewijzen in mijn Graduate Folder.

## 1.1 Communicatie

**Kwalificatie uit Course Manual (Pagina 17):** "Attention to what people want to communicate with what impact, the most suitable form and actual implementation." En: "appropriate (oral and written) communication aimed at the desired impact are also of great importance."

Ik heb mijn communicatie zorgvuldig afgestemd op de boodschap, de gewenste uitkomst en de doelgroep. Ik heb complexe informatie helder overgebracht, actief geluisterd en effectief gecommuniceerd via diverse kanalen, ook met stakeholders buiten mijn directe team.

* [**Refinement notes product owner.png**](Analysis/Refinement%20notes%20product%20owner.png): Vastlegging van afspraken na mondelinge gesprekken met de product owner, ter onderstreping van effectieve afstemming.
* [**Discussion about stakeholder contact.png**](Professional%20skills/Discussion%20about%20stakeholder%20contact.png): Notities die mijn actieve deelname en begrip tijdens mondelinge stakeholdergesprekken aantonen.
* [**Product Owner stakeholder discussion.png**](Professional%20skills/Marua%20stakeholder%20discussion.png): Aantekeningen van overleg met stakeholder Marua, wat mijn mondelinge afstemmingsvaardigheden bevestigt.
* [**Meeting Elina stakeholder.png**](Professional%20skills/Meeting%20elina%20stakeholder.png), [**Meeting Notes Elina**](Professional%20skills/Meeting%20notes%20Elina%20stakeholder.png): Bewijs van geplande meeting met een stakeholder om mijn plannen te bespreken en de meeting notes die hieruit voort gekomen zijn.
* [**Anouk stakeholder contact.png**](Professional%20skills/Anouk%20stakeholder%20contact.png): Bewijs van contact en communicatie met stakeholder Anouk voor projectinput.
* [**Explain solution.png**](Professional%20skills/Explain%20solution.png): Illustreert het toelichten of presenteren van een technische oplossing aan betrokkenen.
* [**Screenshot chat product owner**](Analysis/Agreement%20on%20AnyOrg%20replacement.png): Schriftelijke afstemming via chat over een cruciale projectbeslissing met de product owner.
* [**asking for feedback Scrum Master.png**](Professional%20skills/Asking%20for%20feedback%20elma.png), [**Asking for feedback.png**](Professional%20skills/Asking%20for%20feedback%20elma%202.png): Proactief schriftelijk feedback vragen aan Elma ter verbetering van mijn werkzaamheden.
* [**Elma sync.png**](Professional%20skills/Elma%20Sync.png), [**Elma Sync 2.png**](Professional%20skills/Elma%20Sync%202.png): Meetings voor feedback met de Scrum Master.
* [**Feedback on wessel.png**](Professional%20skills/Feedback%20on%20wessel.png): Voorbeeld van ontvangen schriftelijke feedback die is verwerkt.
* [**Mohamed communication regarding WFIDB.png**](Professional%20skills/Mohamed%20communication%20regarding%20WFIDB.png): Specifieke schriftelijke communicatie over de WFIDB-implementatie (Work Force Identity Database) en benodigde informatie.
* [**Ticket asking WFIDB why the credentials are taking long.png**](Professional%20skills/Ticket%20asking%20WFIDB%20why%20the%20credentials%20are%20taking%20long.png): Proactieve schriftelijke communicatie (via een ticket) om een afhankelijkheid op te lossen.

## 1.2 Samenwerking

**Kwalificatie uit Course Manual (Pagina 17):** "Attention for the various groups of cooperation partners, such as stakeholders, interest groups and own team members. Attention to one's own role in the context of the ICT assignment, recognizing and taking on tasks, addressing others, seeking enrichment, and building trust in an interdisciplinary and intercultural context. (PS# acting with purpose) *"

Ik heb actief samengewerkt met verschillende partners (stakeholders, begeleiders, teamleden) met diverse achtergronden en expertises, wat bijdroeg aan een interdisciplinaire context. Hierbij heb ik mijn eigen rol ingevuld, taken opgepakt en bijgedragen aan een constructieve omgeving.

### 1.2.1 Samenwerking met Stakeholders en Begeleiders

Effectieve samenwerking met diverse stakeholders en begeleiders, inclusief het zoeken naar feedback en het opbouwen van vertrouwen, was essentieel voor dit project en de bredere organisatie.

* [**Refinement notes product owner.png**](Analysis/Refinement%20notes%20product%20owner.png): Toont gezamenlijke refinement van requirements en vroege samenwerking.
* [**Screenshot chat product owner**](Analysis/Agreement%20on%20AnyOrg%20replacement.png): Illustreert afstemming en besluitvorming met een belangrijke stakeholder.
* [**asking for feedback Scrum Master**](Professional%20skills/asking%20for%20feedback%20elma.png), [**Asking for feedback Scrum Master 2**](Professional%20skills/Asking%20for%20feedback%20elma%202.png): Actief zoeken naar feedback van collega's/begeleiders ter verbetering.
* [**Discussion about stakeholder contact.png**](Professional%20skills/Discussion%20about%20stakeholder%20contact.png), [**Marua stakeholder discussion.png**](Professional%20skills/Marua%20stakeholder%20discussion.png), [**Meeting elina stakeholder.png**](Professional%20skills/Meeting%20elina%20stakeholder.png), [**Anouk stakeholder contact.png**](Professional%20skills/Anouk%20stakeholder%20contact.png): Bewijzen van interactie en samenwerking met diverse stakeholders met verschillende achtergronden en expertises.
* [**Elma Sync.png**](Professional%20skills/Elma%20Sync.png), [**Elma Sync 2.png**](Professional%20skills/Elma%20Sync%202.png): Synchronisatie en afstemming met collega/team begeleider Elma.
* [**Feedback on wessel.png**](Professional%20skills/Feedback%20on%20wessel.png): Geven van feedback aan medeontwikkelaar, wat bijdraagt aan teamcohesie.
* [**Mohamed communication regarding WFIDB.png**](Professional%20skills/Mohamed%20communication%20regarding%20WFIDB.png): Gerichte samenwerking met een technisch contactpersoon om blokkades op te heffen.
* [**Ticket asking WFIDB why the credentials are taking long.png**](Professional%20skills/Ticket%20asking%20WFIDB%20why%20the%20credentials%20are%20taking%20long.png): Samenwerking met een extern team om afhankelijkheden op te lossen.
* [**SOS meeting invite.png**](Professional%20skills/SOS%20meeting%20invite.png): Deze uitnodiging voor een SOS-meeting toont aan dat ik als **deputy Scrum Master** werd ingezet voor algemene projectcoördinatie buiten mijn directe afstudeerproject. Dit bewijst het vertrouwen dat mij werd geschonken en mijn vermogen tot brede professionele samenwerking en verantwoordelijkheidszin.
* [**Feedback MR2.png**](Professional%20skills/Feedback%20MR2.png): Bewijs van samenwerking via een code review, waarbij feedback wordt gegeven en ontvangen.

### 1.2.2 Rol en Taken in Project Context

Ik heb actief mijn rol in mijn afstudeerproject ingevuld door taken te herkennen, op te pakken en initiatief te tonen bij het oplossen van knelpunten die de voortgang beïnvloedden.

* **Zelfstandige Taakdefinitie & Organisatie** (bewijs: [**de stories in mijn epic.png**](Professional%20skills/de%20stories%20in%20mijn%20epic.png), [**mijn epic.png**](Professional%20skills/mijn%20epic.png)) Ik heb de verantwoordelijkheid genomen zelfstandig een gehele Epic en de bijbehorende Stories te definiëren, organiseren en managen. Dit bewijst mijn vermogen om mijn eigen taken en verantwoordelijkheden te herkennen en deze op te pakken binnen de context van mijn project.

* **Proactieve Knelpuntanalyse & Oplossing** (bewijs: [**Ticket asking WFIDB why the credentials are taking long.png**](Professional%20skills/Ticket%20asking%20WFIDB%20why%20the%20credentials%20are%20taking%20long.png)) Dit ticket illustreert mijn initiatief om buiten mijn directe ontwikkeltaken te treden en een afhankelijkheid (ontbrekende credentials) via een extern team op te lossen. Door deze blokkade weg te nemen, heb ik direct bijgedragen aan het oplossen van een probleem dat de voortgang van mijn taken binnen het afstudeerproject belemmerde.

## 1.3. Manage & Control

**Kwalificatie uit Course Manual (Pagina 17):** "Managing and using a development street to support software development in teams, which means, among other others, continuous integration the possibilities. Applying methods and techniques to manage a software development process and to guarantee its quality (Software#2)."

Ik heb mijn werkzaamheden gepland en georganiseerd, rekening houdend met het ontwikkelproces, en methoden en technieken toegepast om de kwaliteit te waarborgen. Dit omvat zowel mijn planning en tijdmanagement als mijn bijdrage aan kwaliteitsborging en procesmanagement.

* [**de stories in mijn epic.png**](Professional%20skills/de%20stories%20in%20mijn%20epic.png), [**mijn epic.png**](Professional%20skills/mijn%20epic.png): Tonen de planning en opdeling van taken binnen een Agile raamwerk, wat duidt op gestructureerd tijdmanagement en projectorganisatie.
* [**Ticket asking WFIDB why the credentials are taking long.png**](Professional%20skills/Ticket%20asking%20WFIDB%20why%20the%20credentials%20are%20taking%20long.png): Illustreert proactief management van onvoorziene afhankelijkheden die de planning konden beïnvloeden, door tijdig actie te ondernemen.
* [**Deploy my branch on a different pipeline**](Professional%20skills/Deploy%20my%20branch%20on%20a%20different%20pipeline.png), [**See my branch running in a seperate pipeline**](Professional%20skills/See%20my%20branch%20running%20in%20a%20seperate%20pipeline.png): bewijs voor het inzetten van een development street en bijdrage aan geautomatiseerde deployments/Continuous Integration (CI).
* [**Run tests in pipeline**](Professional%20skills/Running%20tests%20in%20pipeline.png): Ik run elke commit die ik naar de remote branch maak de testen, ook doe ik dit bij het aanmaken van een Merge Request.
* [**Feedback MR2.png**](Professional%20skills/Feedback%20MR2.png): Code reviews als directe methode voor kwaliteitsborging binnen het ontwikkelproces, waarbij mijn code is beoordeeld, wat mijn bijdrage aan een kwaliteitsgedreven proces aantoont.
* [**Design before stakeholder discussion**](./Analysis/Initial%20design.png), [**Design after stakeholder discussion**](./Analysis/Design%20after%20discussing%20with%20UX.png): Dit is het design voor en na de discussie met de stakeholders. Dit laat zien dat ik niet een vast plan had, maar op een agile manier naar de oplossing ben blijven kijken. Hierbij heb ik in een later stadium nog aanpassingen gedaan aan de requirements en design.

<div style="page-break-after: always;"></div>

# 2. Analyse

In deze sectie beschrijf ik hoe ik de competentie *"Conduct a requirements analysis for a software system with different stakeholders, taking into account quality aspects including security, through a critical and investigative attitude, in order to research applied technologies in comparable contexts."* heb toegepast tijdens mijn afstudeerproject bij Swisscom.

## 2.1 Analyse van de requirements

Voor de functionaliteit **"Open Days Tracking"** in TravelMate heb ik een analyse gedaan van de wensen en eisen. De resultaten zijn vastgelegd in de [**Software Requirements Specification (SRS)**](./Analysis/SRS%20OPEN%20days%20after%20feedback.docx).

Het proces was iteratief. Ik heb meerdere versies opgesteld, waaronder:
- [**SRS OPEN days.docx**](./Analysis/SRS%20OPEN%20days.docx) – de eerste versie
- [Refinement notes product owner.jpg](./Analysis/Refinement%20notes%20product%20owner.jpg) – input uit overleg met de product owner

Op basis van feedback en voortschrijdend inzicht zijn er aanpassingen gedaan. Die zitten vooral in:
- **De gebruikersinterface (UI):** De laatste versie beschrijft beter wat de admin kan doen. Zo zijn de mogelijkheden toegevoegd om dagen aan te passen (edit-functionaliteit) en om te zien wie op welke dag reist.
- **De functionele eisen (sectie 3.2):** Hier zijn concrete onderdelen toegevoegd, zoals:
  - Reizigers tonen per dag (3.2.8)
  - Een edit / view mode in het dashboard om het tonen van reizigers mogelijk te maken.

Deze aanpassingen laten zien dat ik iteratief te werk ben gegaan en achteraf nog aanpassing heb gemaakt.

## 2.2 Samenwerking met stakeholders

Ik heb overlegd met verschillende betrokkenen:
- In overleg met de **product owner** zijn de eerste eisen besproken en daarna verder uitgewerkt.
- De keuze om **WFIDB als vervanger van AnyOrg** te gebruiken, is samen genomen en vastgelegd in [Agreement on AnyOrg replacement.png](./Analysis/Agreement%20on%20AnyOrg%20replacement.png). AnyOrg leverde eerder onvolledige of foutieve data. WFIDB is binnen het team als betrouwbaarder beoordeeld.

Omdat we agile werken, zijn de eisen tijdens het project meerdere keren aangepast.


## 2.3 Kwaliteit en beveiliging

De kwaliteitsaspecten, waaronder beveiliging, performance, betrouwbaarheid, onderhoudbaarheid en schaalbaarheid, zijn expliciet beschreven in **sectie 3.4 "Non-Functional Requirements"** van het [SRS](./Analysis/SRS%20OPEN%20days%20after%20feedback.docx). Deze eisen vormden de basis voor ontwerp- en implementatiekeuzes tijdens het project.

## 2.4 Onderzoekende houding

Tijdens het project heb ik goed gekeken naar wat er nog ontbrak of verbeterd kon worden:
- In **sectie 1.1 en 2.1** van de SRS beschrijf ik waarom het bijhouden van gebruikte dagen nodig is.
- De keuze voor **WFIDB als betrouwbare vervanger van AnyOrg** laat zien dat ik bestaande oplossingen kritisch heb bekeken en verbeterd heb waar nodig.
- In **sectie 2.3** benoem ik beperkingen van het systeem, zoals afhankelijkheid van andere teams en systemen, en het gebruik van een interne component library.

<div style="page-break-after: always;"></div>

# 3. Advise

In deze sectie beschrijf ik hoe ik voldoe aan de competentie *"Formulate an appropriate advice for a software system, based on a well-founded analysis of different options for components and architecture, and taking into account the context in which the system will be deployed."* tijdens mijn afstudeerproject bij Swisscom.

## 3.1 Advising on the Selection of Software Components

Voor de implementatie van de Open Days Tracking feature heb ik verschillende technologieën geëvalueerd voor de backend, frontend en database. In het [**Advisory Report**](./Advise/Advisory%20report%202.docx) heb ik dit uitgewerkt aan de hand van een matrix-gebaseerde aanpak, waarbij elke technologie werd beoordeeld op basis van non-functionele requirements zoals beschreven in de SRS.

Ik heb de volgende alternatieven onderzocht:
- **Backend:** Spring Boot, Kotlin, Node.js
- **Frontend:** Angular, React, Vue
- **Database:** PostgreSQL, MongoDB

De vergelijking is onderbouwd met:
- Een scoretabel per technologie, op basis van kwaliteitseigenschappen zoals performance, schaalbaarheid, onderhoudbaarheid en beveiliging
- Overwegingen vanuit zowel een greenfield- als een bestaande systeemcontext
- Input van teamleden en de product owner

De analyse en onderbouwing zijn te vinden in **hoofdstukken 4.1 t/m 4.3** van het adviesrapport.

## 3.2 Advising on a Part of the Architecture

Naast de technologische keuzes heb ik ook verschillende architectuuropties vergeleken voor de integratie van de nieuwe feature in TravelMate. In het [Advisory Report](./Advise/Advisory%20report%202.docx) bespreek ik vier scenario’s:
- Uitbreiding binnen de bestaande monoliet
- Modulair subsysteem binnen TravelMate
- Volledig losstaande microservice
- Tijdelijk prototype

Deze opties zijn vergeleken op basis van dezelfde non-functionele eisen uit de SRS, waaronder betrouwbaarheid, performance, privacy en onderhoudbaarheid.

Mijn advies was om te kiezen voor een **modulair subsysteem** binnen het bestaande platform. Dit biedt een goede balans tussen isolatie en hergebruik, en houdt de impact op het bestaande systeem beperkt. Deze afwegingen zijn gedocumenteerd in **hoofdstukken 3.1 t/m 3.5** van het rapport.

## 3.3 Advising on Prototyping for Requirement Validation

Om onzekerheden in de requirements en haalbaarheid van de integratie met WFIDB vroegtijdig te toetsen, heb ik **option D** uitgewerkt als prototype-benadering. In dit scenario adviseer ik het bouwen van een losstaande, lichtgewicht implementatie met bijvoorbeeld FastAPI of NestJS.

Het doel hiervan is om:
- De haalbaarheid van de frontend en backend-integratie met WFIDB te testen
- UI-problemen of technische beperkingen vroegtijdig te ontdekken

Deze strategie is opgenomen als fallback-optie en sluit aan bij iteratieve ontwikkeling en validatie. De onderbouwing hiervoor is te vinden in **sectie 3.4** van het adviesrapport.

## 3.4 Technical Implementation Advice

In **hoofdstuk 6** van het adviesrapport geef ik ook advies op implementatieniveau. Dit betreft concrete aanbevelingen voor het verbeteren van de onderhoudbaarheid en betrouwbaarheid van de bestaande codebasis. Deze refactors zijn nodig om mijn project een succes te maken. Zonder dit boorduurt mijn project voort op slecht maintainable code. Dit heb ik voorgesteld:

- **Vervang AnyOrg met een andere microervice:** AnyOrg wordt gebruikt om user data op te halen, dit is niet de bedoeling van AnyOrg. In mijn project wil ik dit vervangen met een microservice die echt bedoelt is hiervoor.
- **Refactoren van de `DatesDashboardComponent`:** Dit component bevat ruim 1000 regels code en is daarmee lastig te testen en onderhouden. Ik adviseer om deze op te splitsen in subcomponenten.
- **Gebruik van feature flags:** Omdat de functionaliteit nog niet meteen voor alle gebruikers beschikbaar hoeft te zijn, adviseer ik om interne feature flags toe te passen zodat de feature veilig uitgerold kan worden.
- **Centralisatie van enrichment-logica:** Momenteel is de logica voor het ophalen van gebruikersinformatie verspreid over meerdere plekken. Dit belemmert hergebruik en maakt onderhoud lastig. Ik adviseer om deze logica te centraliseren.
- **Polymorfe afhandeling van authenticatie:** De integratie met WFIDB vereist een ander type token dan de bestaande JWT-oplossing. Omdat er overlap is in de logica, adviseer ik een polymorfe aanpak om duplicatie te vermijden.
- **Toevoegen van testdekking:** De bestaande code waar mijn feature op voortbouwt bevat geen testdekking. Aangezien de functionaliteit afhankelijk is van meerdere kritieke onderdelen van het systeem, adviseer ik om deze eerst te voorzien van tests voordat er wijzigingen worden doorgevoerd.

Deze adviezen zijn gebaseerd op knelpunten die ik in de praktijk heb vastgesteld en dragen bij aan een goede implementatie.


## 4. Design

> **Eindkwalificatie (Course Manual, p.19):**  
> “Het ontwerpen van een software-architectuur voor een softwaresysteem, opgebouwd uit bestaande en nieuwe systemen, waarbij rekening wordt gehouden met meerdere stakeholders en kwaliteitseigenschappen, waaronder beveiliging en schaalbaarheid. Het opstellen van een teststrategie voor systeemtesten.”

### 4.1 Architectuurontwerp: modulair, schaalbaar en veilig

In [`Backend design.docx`](./Designs/Backend%20design.docx) presenteer ik het ontwerp van het *Open Days Tracking*-subsysteem. Het systeem is opgebouwd uit gescheiden onderdelen: controller, orchestratielaag en services. Bestaande onderdelen zoals `UserService` en `TravelRequestService` worden hergebruikt. Via feature flags wordt het systeem per omgeving of gebruiker beschikbaar gesteld.

Deze structuur ondersteunt onderhoud, uitbreiding en hergebruik. Door verantwoordelijkheden te scheiden en alleen noodzakelijke afhankelijkheden op te nemen, blijft de oplossing beheersbaar.

#### Visueel overzicht van de backend-architectuur

[Backend design](./Designs/Backend%20design.jpg)

#### Datamodelontwerp binnen de architectuur

In hetzelfde ontwerp licht ik toe waarom ik drie DTO’s introduceer: `TravelRequestCompactedDto`, `TravelRequestCompactedUserDto` en `TravelDetailsCompactedDto`. Deze objecten bevatten alleen de gegevens die nodig zijn voor het frontend. Interne modellen worden niet direct doorgegeven.

Deze keuze laat zien dat ik let op data-afscherming, performance en scheiding tussen lagen. De gebruikte factory methods passen binnen een layered architecture en ondersteunen consistentie in conversie.



### 4.2 Polymorfe authenticatiearchitectuur

In [`Microservice Authorization Architecture.docx`](./Designs/Microservice%20Authorization%20Architecture.docx) beschrijf ik een abstractielaag voor authenticatie, gebaseerd op polymorfisme. De implementatie maakt onderscheid tussen OAuth2 en SecureM2M via twee strategieklassen, met een gedeeld interface (`AuthorizationService`) en gecentraliseerde caching.

Deze opzet maakt het mogelijk om nieuwe vormen van authenticatie toe te voegen zonder aanpassing aan clientcode. Het ontwerp is gericht op uitbreidbaarheid, hergebruik en scheiding van verantwoordelijkheden.

#### Class diagram van de authenticatiearchitectuur

[Microservice Authorization class diagram](./Designs/Microservice%20Authorization%20class%20diagram.jpg)


### 4.3 Gebruik van enrichment-pattern voor dataverrijking

In [`User Data Enrichment docs.docx`](./Designs/User%20Data%20Enrichment%20docs.docx) beschrijf ik de toepassing van een Enricher<T> pattern. Verrijkingslogica wordt via interfaces en facades opgebouwd uit herbruikbare onderdelen. Een `CompositeEnricher<T>` voert meerdere verrijkingen achter elkaar uit.

Deze structuur maakt verrijking herbruikbaar en beperkt duplicatie. Door gebruik te maken van interface-based design en composition kan logica beter beheerd en getest worden.

#### Overzicht van de enrichmentarchitectuur

[Enrichers design](./Designs/Enrichers%20design.png)


### 4.4 UI-ontwerp en stakeholderinteractie

De afbeelding [`Design after discussing with UX.png`](./Designs/Design%20after%20discussing%20with%20UX.png) laat zien welke aanpassingen aan het dashboard zijn doorgevoerd na overleg met de UX-designer. Hierbij zijn onder meer visuele groepering en bewoording aangepast.

Deze aanpassing is gedaan op basis van terugkoppeling van stakeholders. Ik heb technische ontwerpkeuzes afgestemd op gebruik en interpretatie, wat laat zien dat ik in mijn ontwerp rekening houd met belanghebbenden en kwaliteitseigenschappen zoals bruikbaarheid.

#### Aangepast ontwerp na overleg met UX

[UX eerste ontwerp](./Designs/Initial%20design.png)
[UX aangepast ontwerp](./Designs/Design%20after%20discussing%20with%20UX.png)


### 4.5 Teststrategie afgestemd op het systeemontwerp

In [`Testplan.docx`](./Designs/Testplan.docx) beschrijf ik hoe de teststrategie voortkomt uit de architectuur van het systeem. De componentstructuur maakt het mogelijk om delen van het systeem los van elkaar te testen. Externe afhankelijkheden zoals WFIDB zijn te simuleren. Foutafhandeling is meegenomen in het ontwerp, zodat er controle blijft over het gedrag wanneer een externe service niet beschikbaar is.

Deze aanpak toont aan dat testbaarheid is meegenomen in de ontwerpfase. De systeemstructuur ondersteunt het opstellen van tests die aansluiten bij de architectuur en de gekozen kwaliteitsdoelen.


# 5. Realisatie

In deze sectie toon ik hoe ik het systeem daadwerkelijk heb gebouwd. De focus ligt op de technische uitvoering van de Open Days Tracking-feature binnen TravelMate. Ik bespreek belangrijke keuzes, laat codevoorbeelden zien van cruciale onderdelen en toon aan hoe ik voldoe aan de competentie *"Building and making available a scalable software system that connects to existing systems, possibly in the cloud, according to the designed architecture using existing frameworks. Applying test automation when performing tests."*

## 5.1 Technologieën en projectstructuur

Voor de implementatie heb ik gekozen voor de technologien en frameworks die al werden gebruikt binnen de applicatie:
- **Backend:** Spring Boot met Java
- **Frontend:** Angular
- **Database:** mongoDb

De backend is modulair opgezet, waarbij ik mijn onderdeel zoveel mogelijk los heb getrokken van de bestaande codebase, dit zodat mijn code zo min mogelijk in het vaarwater komt van de bestaande codebase. De modulariteit waar ik het over heb valt te beschrijven op verschillende manieren. Zo gebruik ik een service-controller-repository design waarbij ik de database logic, de business logica en de api logica van elkaar afzonder. Ik ga hierin nog een stapje verder door het af te zonderen van het huidige systeem, Ik herbuik dus niet de bestaande modellen, maar heb mijn eigen gedefinieerd. Als er dingen in de bestaande modellen veranderen hoeven we ons niet zorgen te maken over mijn feature, alleen op de plek waar ik de bestaande modellen converteer naar mijn modellen. Dit is ook handig voor het 

## 5.2 Koppeling met bestaande systemen

De feature maakt verbinding met WFIDB (Work Force Identity Database) om user data op te halen. Eerst deden we dit met een andere microservice, maar die was helemaal niet bedoeld om het te gebruiken voor gebruikers data. Voor het bouwen van mijn feature wilde ik dit veranderen. Ik heb een integratie gebouwd om onze backend aan deze microservice te connecten:

- `WFIClient.java` communiceert via REST met het externe WFIDB systeem
- `WFIService.java` definieert custom queries die mee gestuurd worden naar WFIDB, ook zorgt de service voor de authorisatie.
- `OAuth2JwtService.java` handelt token-authorisatie af

Ook heb ik een implementatie gemaakt voor de featureflag microservice integratie volgens dezelfde principes:

- `FeatureFlagClient.java` communiceert via Rest met het externe FeatureFlag systeem 
- `FeatureFlagService.java` Regelt de business logica (wat vrij weinig is voor deze integratie) en zorgt voor de authorisatie.
- `OAuth2JwtService.java` handelt token-authorisatie af

Ik liep tegen een probleem aan bij het integreren van de FeatureFlag microservice, wat buiten mijn handen lag. Hierdoor hebben we besloten om niet verder te gaan met de featureflag implementatie. Ik laat het toch zien, omdat ik de code heb geschreven en het ook goed is. Aangezien wij op een andere cloud omgeving zitten (nog), kon ik geen connectie maken met hun service. 

voor deze implementaties was er een grote refactor nodig, de WFI microservices gebruikte een andere vorm van authorisatie dan de Featureflag service. Er waren  veel overeenkomsten tussen de manieren van authoriseren, maar er waren ook veel dingen anders. Hiervoor heb ik een uitbreidbare manier bedacht om de authorisatie af te handelen:

- `AbstractAuthorizationService.java` bevat alle gedeelde logica tussen de 2 authorization manieren.
- `OAuth2JwtService.java` en `SecureM2MJwtService.java` implementeren deze abstracte class en implementeren de logica wat niet overeen komt. 
- deze services communiceren met de externe authorization services van Swisscom via de `OAuth2JwtClient.java` en `SecureM2MJwtClient.java`

Buiten het koppelen met externe systemen heb ik ook veel met de applicatie waarin ik mijn feature bouw te maken gehad. Zo heb ik bijvoorbeeld bij de integratie van de nieuwe WFIDB service ook de code die er al was moeten refactoren, want anders gebruikten we in de eene kant van het systeem deze service en de andere kant van het systeem de andere, [hier](./Realisation/Backend/refactor%20na%20integratie%20van%20WFIDB.png) is een voorbeeld te zien van zo'n refactor die ik in het bestaande systeem heb moeten uitvoeren.

**Bewijs:**
- Zie /Realisation/Backend/MicroServices/workforceidentity
- Zie /Realisation/Backend/MicroServices/featureflag
- Zie /Realisation/Backend/authorization

## 5.3 Belangrijke en complexe code

Binnen Swisscom mogen we gebruikersdata alleen opslaan als iemand actief is in het systeem; passieve gebruikers worden slechts als *scaffolded users* opgeslagen met een intern ID en employee number. Toch hebben we vaak aanvullende data nodig (zoals naam, e-mail of afdeling) om logica correct uit te voeren. Hiervoor gebruiken we *enrichment*: het aanvullen van onvolledige modellen met data uit externe bronnen (zoals WFIDB) op het moment dat deze informatie nodig is. Deze enrichment-logica was echter verspreid door de codebase, wat leidde tot duplicatie, moeilijk onderhoud en slechte testbaarheid.

### Oplossing: centrale, uitbreidbare Enricher-architectuur

- Ik heb een generiek `Enricher<T>` interface geïntroduceerd:

  ```java
  interface Enricher<T> {
      T enrich(T data);
  }
  ```

- Elke concrete Enricher implementeert deze interface:
  - Voorbeeld: `ScaffoldedUserEnricher` haalt gebruikersgegevens op via employee number.
  - Andere Enrichers vullen bijvoorbeeld e-mail of naam aan bij memberships.

- Om meerdere Enrichers op één model toe te passen, heb ik de **`CompositeEnricher<T>`** geïntroduceerd:
  - Bevat een lijst van Enrichers.
  - Past ze sequentieel toe op het inputmodel.
  - Zorgt voor een uniforme, configureerbare enrichment-keten.

- De `EnricherConfig` stelt samengestelde Enrichers samen en injecteert ze in specifieke facades per domein (bijv. gebruikers, memberships, people groups).

Voorbeeld van enrichment refactor: [Enrichment voor en na refactor](./Realisation/Backend/enrichers/Enrichment%20refactor%20example.png)

### Resultaat

- **Centrale aansturing** van enrichment via facades.  
- **Herbruikbare** en **testbare** Enrichers per datamodel.  
- **Eenvoudig uitbreidbaar**: nieuwe Enrichers toevoegen zonder bestaande code te wijzigen.  
- **Betere onderhoudbaarheid**: enrichment-logica is niet langer verspreid door de codebase.

## 5.4 Testautomatisering

Ik heb verschillende niveaus van tests geïmplementeerd:
- **Unit tests:** met JUnit en Mockito voor services en enrichment-logic
- **Integration tests:** voor de communicatie met externe systemen
- **E2E tests:** met Cypress voor de frontend

**Voorbeelden:**
- `OpenDaysServiceTest.java` test de toewijzingslogica
- Cypress-scenario test de gebruikersflow voor het aanmaken van een reis

**Bewijs:**
- Zie [New testplan.docx](./Advise/New%20testplan.docx)

## 5.5 Schaalbaarheid en uitbreidbaarheid

De feature is schaalbaar en toekomstbestendig ontworpen:
- Asynchrone API-calls voor UI-responsiviteit
- Feature flags om functionaliteit gecontroleerd uit te rollen
- Frontend-componenten (zoals `DatesDashboardComponent`) worden opgesplitst om onderhoud te vergemakkelijken

**Designkeuzes die dit ondersteunen:**
- Gebruik van modulaire services en gedeelde interfaces
- Documentatie en class diagrams voor authenticatie en enrichment-logica

## 5.6 Reflectie

Tijdens het bouwen liep ik tegen een aantal uitdagingen aan:
- De originele `DatesDashboardComponent` was meer dan 1000 regels en niet onderhoudbaar. Refactoring was noodzakelijk.
- De WFIDB-integratie vroeg om nieuwe authenticatielogica die niet eerder gebruikt werd.
- Het ontbreken van testdekking op bestaande code zorgde voor risico’s bij uitbreidingen.

Door grondige tests toe te voegen, modulaire logica te schrijven en documentatie te maken, is het systeem nu onderhoudbaar en veilig voor productie.

